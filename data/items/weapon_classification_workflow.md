# 武器分类标注工作流程

## 分类定义

### 基础分类
- **手枪**: 典型的小手枪 (如 M92F)
- **大威力手枪**: 发射特殊子弹的手枪 (如 M500)
- **冲锋枪**: 冲锋手枪和典型的冲锋枪 (如 M93R、蝎式冲锋枪)
- **突击步枪**: 典型的突击步枪 (如 AK47)
- **战斗步枪**: 全威力步枪，快射速精准步枪 (如 SVD)
- **狙击步枪**: 典型的狙击步枪 (如 AWM)
- **反器材武器**: 超规格火力武器 (如 巴雷特)
- **机枪**: 典型的机枪 (如 PKM)
- **霰弹枪**: 典型的霰弹枪 (如 SPAS12)
- **发射器**: 火箭/导弹发射器 (如 FIM92毒刺)
- **近战**: 用于近战的长枪 (如 混凝土切割机)
- **特殊**: 无法归类的例外

### 压制修饰词
- **压制冲锋枪**: 弹容超过150的冲锋枪 (如 TMPmerc)
- **压制机枪**: 弹容超过150的机枪 (如 M134)
- **压制突击步枪**: 弹容超过150的突击步枪（如有）
- **压制霰弹枪**: 弹容超过150的霰弹枪（如有）

注：压制类武器可获得额外属性加成

## 标注流程

### 1. 读取武器信息
- [ ] 读取武器XML条目
- [ ] 记录：name、displayname、description
- [ ] 记录关键属性：capacity、split、interval、power

### 2. 分析判断
- [ ] 检查description中的关键词
- [ ] 识别真实武器型号
- [ ] 分析数值特征：
  - 弹容 < 20 → 可能是手枪
  - 弹容 > 150 → 压制机枪
  - split > 3 → 可能是霰弹枪/机枪
  - split = 3 + interval < 400 → 可能是冲锋枪（三连发）
  - interval < 100 → 高射速，可能是冲锋枪/机枪
  - interval > 1000 → 可能是狙击/反器材
  - 考虑威力/等级比判断大威力武器

### 3. 验证（如不确定）
- [ ] 搜索武器真实资料
- [ ] 对比游戏内相似武器
- [ ] 检查特殊属性（damagetype、criticalhit等）

### 4. 提出建议
- [ ] 给出weapontype建议
- [ ] 说明判断依据
- [ ] 标注疑点

### 5. 执行修改
- [ ] 等待用户确认
- [ ] 在`<data>`标签内添加`<weapontype>类型</weapontype>`
- [ ] 更新进度日志

## 进度追踪

### 当前状态
- 当前文件：武器_手枪.xml
- 当前位置：未开始
- 已完成：0
- 总计：待统计

### 断点恢复
如需恢复，查看 weapon_classification_log.md 最后处理的武器ID

## 注意事项
1. 可批量处理1-2把武器（经用户许可）
2. 所有修改都需用户确认
3. 保持日志记录以便断点恢复
4. weapontype标签添加在data区域内第一行

## 关键判断经验
1. **描述优先**：description中明确提到的类型具有最高优先级
2. **特殊弹药**：使用马格南、霰弹等特殊弹药是重要判断依据
3. **等级权重**：低等级高威力武器可能是大威力类型
4. **枪火效果**：muzzle类型（冲锋枪枪火、霰弹枪枪火等）是辅助判据
5. **多重特征**：冲锋手枪虽在手枪文件但属于冲锋枪类