<?xml version="1.0" encoding="UTF-8"?>
<!--
╔══════════════════════════════════════════════════════════════════════════════╗
║                           药剂类物品配置                                      ║
║                      物品ID已自动生成，无需手动维护                            ║
╚══════════════════════════════════════════════════════════════════════════════╝

┌──────────────────────────────────────────────────────────────────────────────┐
│ 效果词条系统说明 (effects)                                                    │
│ 每个物品可配置多个效果词条，使用时按顺序执行                                    │
└──────────────────────────────────────────────────────────────────────────────┘

【type="heal" 即时恢复】
  作用: 立即恢复生命值或魔法值
  参数:
    hp="数值"           - 恢复的生命值，如 hp="100" 或 hp="20%" (百分比)
    mp="数值"           - 恢复的魔法值，如 mp="50"
    target="self"       - 作用目标: self=自己, group=队伍全员
    scaleWithAlchemy="true" - 是否受炼金术加成影响
  示例: <effect type="heal" hp="150" mp="50" target="self" scaleWithAlchemy="true"/>

【type="regen" 缓释恢复(持续回血/回蓝)】
  作用: 在一段时间内持续恢复生命值或魔法值
  参数:
    hp="数值"           - 总共恢复的生命值
    mp="数值"           - 总共恢复的魔法值
    duration="帧数"     - 持续时间(帧)，30帧≈1秒，如 duration="900" 表示30秒
    interval="帧数"     - 每隔多少帧触发一次，默认30(每秒一次)
    mode="模式"         - total=先算炼金加成再分摊 / perTick=每次固定后算炼金(默认)
    id="标识"           - 缓释效果的唯一标识，用于刷新或叠加
    stack="方式"        - refresh=刷新时间 / stack=叠加层数
    scaleWithAlchemy="true" - 是否受炼金术加成影响
  示例: <effect type="regen" hp="300" duration="600" interval="30" mode="total" id="药剂_缓释_HP" scaleWithAlchemy="true"/>

【type="state" 状态修改】
  作用: 直接修改角色的某个状态属性
  参数:
    key="属性名"        - 要修改的属性，如 key="淬毒"
    value="数值"        - 修改的数值
    operation="操作"    - set=直接设置 / add=在原值基础上增加
    scaleWithAlchemy="true" - 是否受炼金术加成影响
  示例: <effect type="state" key="淬毒" value="100" scaleWithAlchemy="true"/>

【type="purify" 净化效果】
  作用: 清除负面状态、debuff、麻痹值等
  参数:
    value="数值"        - 净化强度
    scaleWithAlchemy="true" - 是否受炼金术加成影响
    clearDebuffs="前缀" - 清除以此前缀开头的所有debuff，如 clearDebuffs="debuff_"
  示例: <effect type="purify" value="50" scaleWithAlchemy="true" clearDebuffs="debuff_"/>

【type="buff" 添加属性增益/减益】
  作用: 为角色添加临时的属性修改效果
  参数:
    property="属性名"   - 【必填】要修改的属性，如 "伤害加成"、"防御力"、"行走X速度"
    calc="计算类型"     - 【必填】计算方式，详见下方说明
    value="数值"        - 【必填】修改的数值，正数为增益，负数为减益
    duration="帧数"     - 持续时间(帧)，30帧≈1秒，如 duration="1800" 表示60秒，不填=永久
    buffId="标识"       - Buff的唯一标识，详见下方命名规范
    stackable="true"    - 是否允许叠加多个实例(默认false)

  ┌─ calc 计算类型说明 ─────────────────────────────────────────────────────┐
  │                                                                         │
  │ 【通用语义 - 叠加型】多个同类型会累加                                      │
  │   add          加法累加    多个+50会变成+150                              │
  │   multiply     乘区相加    多个×1.2会变成×1.4(不是×1.44)                   │
  │   percent      百分比相加  多个+20%会变成+40%(不是+44%)                    │
  │                                                                         │
  │ 【保守语义 - 独占型】多个同类型只取最强的一个，防止数值膨胀                  │
  │   add_positive 正向加法    多个+50/+80/+100，只算+100                     │
  │   add_negative 负向加法    多个-20/-50/-30，只算-50(最强减益)              │
  │   mult_positive正向乘法    多个×1.3/×1.5/×1.2，只算×1.5                   │
  │   mult_negative负向乘法    多个×0.8/×0.6/×0.7，只算×0.6(最强减速)          │
  │                                                                         │
  │ 【边界控制】                                                             │
  │   override     强制覆盖    无视其他计算，直接设为此值                       │
  │   max          下限保底    结果不会低于此值                                │
  │   min          上限封顶    结果不会高于此值                                │
  │                                                                         │
  │ 常用场景:                                                                │
  │   - 药剂增益效果 → add_positive (同类药剂不叠加，只取最好的)                │
  │   - 药剂减益效果 → add_negative (毒药等，只取最强的debuff)                 │
  │   - 叠层技能    → add (允许累加)                                         │
  │   - 速度增益    → mult_positive (防止速度爆炸)                            │
  │   - 减速/减伤   → mult_negative (只取最强效果)                            │
  └─────────────────────────────────────────────────────────────────────────┘

  ┌─ buffId 命名规范 ─────────────────────────────────────────────────────┐
  │                                                                         │
  │ 【增益(buff)命名】                                                       │
  │   格式: 来源_属性名                                                      │
  │   示例: 药剂_伤害加成, 药剂_防御力, 药剂_速度                              │
  │   效果: 同ID的buff会互相替换(刷新时间)，不同ID的buff各自独立               │
  │                                                                         │
  │ 【减益(debuff)命名】★重要★                                              │
  │   格式: debuff_来源_属性名                                               │
  │   示例: debuff_药剂_防御力, debuff_毒药_生命                              │
  │   效果: 必须以 debuff_ 开头，这样净化效果才能正确清除                      │
  │                                                                         │
  │ 【不填buffId】                                                           │
  │   效果: 每次使用都会创建新实例，可以叠加多个                               │
  │                                                                         │
  └─────────────────────────────────────────────────────────────────────────┘

  增益示例: <effect type="buff" property="伤害加成" calc="add_positive" value="50" duration="1800" buffId="药剂_伤害加成"/>
  减益示例: <effect type="buff" property="防御力" calc="add_negative" value="-20" duration="1800" buffId="debuff_药剂_防御力"/>

【type="playEffect" 播放特效】
  作用: 播放视觉特效动画
  参数:
    name="特效名"       - 特效资源名称，如 name="药剂动画"
    offsetX="数值"      - X轴偏移(可选)
    offsetY="数值"      - Y轴偏移(可选)
    scale="数值"        - 缩放比例(可选)
  示例: <effect type="playEffect" name="药剂动画"/>

【type="message" 发布消息】
  作用: 在屏幕上显示提示消息
  参数:
    text="消息内容"     - 要显示的文字
    condition="条件"    - 触发条件，如 grantSuccess=获得物品成功时才显示
  示例: <effect type="message" text="你感到力量涌入体内..." condition="grantSuccess"/>

【type="grantItem" 获得物品】
  作用: 使用后获得其他物品
  参数:
    name="物品名"       - 要获得的物品名称
    count="数量"        - 获得数量，默认1
    chance="概率"       - 获得概率(0-1)，如 chance="0.5" 表示50%几率
  示例: <effect type="grantItem" name="幻层残响" count="1"/>

【type="global" 修改全局变量】
  作用: 修改游戏全局变量
  参数:
    key="变量名"        - 全局变量的键名
    operation="操作"    - set=直接设置 / add=增加 / multiply=乘以
    value="数值"        - 操作的数值
  示例: <effect type="global" key="任务进度" operation="add" value="1"/>

注意: 所有效果均通过 effects 词条配置，旧字段已移除。
-->
<root>
  <!-- ========== 药剂类物品 ========== -->
  <item>
    <name>普通hp药剂</name>
    <displayname>普通hp药剂</displayname>
    <icon>普通hp药剂</icon>
    <type>消耗品</type>
    <use>药剂</use>
    <price>100</price>
    <description>这种药剂在末世前就进行过试产。非常幸运的是,这种药剂的生产线并没有彻底被毁灭,也因此这种让人迅速&lt;font
      color="#00ff00"&gt;恢复体力、加速伤口愈合&lt;/font&gt;的道具在末世广泛存在。</description>
    <data>
      <effects>
        <effect type="heal" hp="150" mp="0" target="self" scaleWithAlchemy="true" />
        <effect type="playEffect" name="药剂动画" />
      </effects>
    </data>
  </item>
  <item>
    <name>普通mp药剂</name>
    <displayname>普通mp药剂</displayname>
    <icon>普通mp药剂</icon>
    <type>消耗品</type>
    <use>药剂</use>
    <price>100</price>
    <description>这种药剂在末世前就进行过试产。非常幸运的是,这种药剂的生产线并没有彻底被毁灭,也因此这种让人迅速&lt;font
      color="#00ffff"&gt;恢复精力,使出绝技&lt;/font&gt;的道具在末世广泛存在。</description>
    <data>
      <effects>
        <effect type="heal" hp="0" mp="100" target="self" scaleWithAlchemy="true" />
        <effect type="playEffect" name="药剂动画" />
      </effects>
    </data>
  </item>
  <item>
    <name>抗生素</name>
    <displayname>抗生素</displayname>
    <icon>抗生素</icon>
    <type>消耗品</type>
    <use>药剂</use>
    <price>500</price>
    <description>抗生素能很好地&lt;font
      color="#00ff00"&gt;对抗细菌等微生物的感染&lt;/font&gt;。曾在多次人类战争中挽救无数人的医师在末世中依然发挥着作用。</description>
    <data>
      <effects>
        <effect type="heal" hp="500" mp="0" target="self" scaleWithAlchemy="true" />
        <effect type="playEffect" name="药剂动画" />
      </effects>
    </data>
  </item>
  <item>
    <name>普通hp粉尘</name>
    <displayname>普通hp粉尘</displayname>
    <icon>普通hp粉尘</icon>
    <type>消耗品</type>
    <use>药剂</use>
    <price>500</price>
    <description>固体颗粒治疗道具,是末日前医学发展的重要成果之一。该粉尘用于为附近的友方&lt;font color="#0ff00"&gt;治疗伤口&lt;/font&gt;。</description>
    <data>
      <effects>
        <effect type="heal" hp="300" mp="0" target="group" scaleWithAlchemy="true" />
      </effects>
    </data>
  </item>
  <item>
    <name>普通mp粉尘</name>
    <displayname>普通mp粉尘</displayname>
    <icon>普通mp粉尘</icon>
    <type>消耗品</type>
    <use>药剂</use>
    <price>500</price>
    <description>固体颗粒治疗道具,是末日前医学发展的重要成果之一。该粉尘用于为附近的友方&lt;font color="#00ffff"&gt;提升精力&lt;/font&gt;。</description>
    <data>
      <effects>
        <effect type="heal" hp="0" mp="200" target="self" scaleWithAlchemy="true" />
        <effect type="playEffect" name="药剂动画" />
      </effects>
    </data>
  </item>
  <item>
    <name>格格巫的毒</name>
    <displayname>格格巫的毒</displayname>
    <icon>格格巫的毒</icon>
    <type>消耗品</type>
    <use>药剂</use>
    <price>500</price>
    <description>格格巫仿照丽丽丝的技术由更低成本的原料研制的廉价毒药,由于成本过于廉价,毒效也甚微,但出于性价比仍然受到不少客户的喜爱。
      此类毒药的特点是能高效的附着在武器甚至子弹上,实用性良好,连僵尸与机械都可以侵蚀,且无法由抗性抵抗,有人猜测是多种化学成分、微生物甚至纳米机器的结合产物,而多种原料如何共存的问题仍然是迷雾。
      注:可对武器进行淬毒,每次攻击消耗1点,仅本图生效。</description>
    <data>
      <effects>
        <effect type="state" key="淬毒" value="70" scaleWithAlchemy="true" />
        <effect type="playEffect" name="淬毒动画" />
      </effects>
    </data>
  </item>
  <item>
    <name>肾上腺素</name>
    <displayname>肾上腺素</displayname>
    <icon>肾上腺素</icon>
    <type>消耗品</type>
    <use>药剂</use>
    <price>600</price>
    <description>迅速&lt;font color="#00ffff"&gt;提高精力&lt;/font&gt;的药剂。</description>
    <data>
      <effects>
        <effect type="heal" hp="0" mp="300" target="self" scaleWithAlchemy="true" />
        <effect type="playEffect" name="药剂动画" />
      </effects>
    </data>
  </item>
  <item>
    <name>加强抗生素药剂</name>
    <displayname>加强抗生素药剂</displayname>
    <icon>加强抗生素药剂</icon>
    <type>消耗品</type>
    <use>药剂</use>
    <price>1500</price>
    <description>dna与rna结构功能分析的产物之一,拥有对大量新品种细菌的强大杀伤力,而且有着&lt;font
      color="#00ff00"&gt;刺激人体,恢复伤口&lt;/font&gt;的作用。</description>
    <data>
      <effects>
        <effect type="heal" hp="1500" mp="0" target="self" scaleWithAlchemy="true" />
        <effect type="playEffect" name="药剂动画" />
      </effects>
    </data>
  </item>
  <item>
    <name>加强mp药剂</name>
    <displayname>加强mp药剂</displayname>
    <icon>加强MP药剂</icon>
    <type>消耗品</type>
    <use>药剂</use>
    <price>1500</price>
    <description>被认为是脑科学的重要产物,&lt;font color="#00ffff"&gt;对于精力的提升&lt;/font&gt;作用非常强大。</description>
    <data>
      <effects>
        <effect type="heal" hp="0" mp="600" target="self" scaleWithAlchemy="true" />
        <effect type="playEffect" name="药剂动画" />
      </effects>
    </data>
  </item>
  <item>
    <name>战队药箱</name>
    <displayname>战队药箱</displayname>
    <icon>战队药箱</icon>
    <type>消耗品</type>
    <use>药剂</use>
    <price>3000</price>
    <description>A兵团配发的战队医疗箱,存有大量急救药品。似乎是高等级医学知识和重化工业的结晶,利用末日后仅有的生产力让战队伤员&lt;font
      color="#00ff00"&gt;快速恢复&lt;/font&gt;。</description>
    <data>
      <effects>
        <effect type="heal" hp="1500" mp="0" target="group" scaleWithAlchemy="true" />
      </effects>
    </data>
  </item>
  <item>
    <name>大MP药剂</name>
    <displayname>大MP药剂</displayname>
    <icon>大MP药剂</icon>
    <type>消耗品</type>
    <use>药剂</use>
    <price>3000</price>
    <description>被认为是脑科学的重要产物,&lt;font
      color="#00ffff"&gt;对于精力的提升&lt;/font&gt;作用非常强大。另外,这种是大剂量版本,末日稀有之物。</description>
    <data>
      <effects>
        <effect type="heal" hp="0" mp="1500" target="self" scaleWithAlchemy="true" />
        <effect type="playEffect" name="药剂动画" />
      </effects>
    </data>
  </item>
  <item>
    <name>净化药剂</name>
    <displayname>净化药剂</displayname>
    <icon>净化药剂</icon>
    <type>消耗品</type>
    <use>药剂</use>
    <price>6000</price>
    <description>使用净化药剂,清除自身积累的麻痹值,获得一定额度的麻痹抵抗能力,消除自身debuff,减少永久型地形伤害,缓解永久型地形负面效果。部分效果可叠加,效果逐步衰减。</description>
    <data>
      <effects>
        <effect type="purify" value="50" scaleWithAlchemy="true" clearDebuffs="debuff_" />
        <effect type="playEffect" name="净化动画" />
      </effects>
    </data>
  </item>
  <item>
    <name>稀释的毒</name>
    <displayname>稀释的毒</displayname>
    <icon>稀释的毒</icon>
    <type>消耗品</type>
    <use>药剂</use>
    <price>7000</price>
    <description>出于实用性考虑,丽丽丝对自己的毒药也开发了成本更低的稀释版本。尽管毒性下降,但仍然可对任何敌人产生较为致命的毒性,几乎无法被抗性抵抗,且价格也下降了很多。
      据说丽丽丝在上家公司利用相关资源掌握了远超常理的制毒技术,相比于格格巫医生而言,她更擅长"杀人医术"。
      注:可对武器进行淬毒,每次攻击消耗1点,仅本图生效。</description>
    <data>
      <effects>
        <effect type="state" key="淬毒" value="200" scaleWithAlchemy="true" />
        <effect type="playEffect" name="淬毒动画" />
      </effects>
    </data>
  </item>
  <item>
    <name>丽丽丝的毒</name>
    <displayname>丽丽丝的毒</displayname>
    <icon>丽丽丝的毒</icon>
    <type>消耗品</type>
    <use>药剂</use>
    <price>1000000</price>
    <description>由丽丽丝研制的多种不明原料构成的复合毒素,对一切有机或无机的敌人均有极为致命的破坏效果,无法被任何抗性抵抗,成本与价格也无比高昂。
      据说丽丽丝在上家公司利用相关资源掌握了远超常理的制毒技术,相比于格格巫医生而言,她更擅长"杀人医术"。
      注:可对武器进行淬毒,每次攻击消耗1点,仅本图生效。</description>
    <data>
      <effects>
        <effect type="state" key="淬毒" value="10000" scaleWithAlchemy="true" />
        <effect type="playEffect" name="淬毒动画" />
      </effects>
    </data>
  </item>
</root>