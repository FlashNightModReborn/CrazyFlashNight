org.flashNight.naki.Sort.MicroBenchmark.runAll()


----------------------------------------------------------------------------
  TimSort MicroBenchmark Suite
  Isolate micro-structure parameters for AS2 tuning
----------------------------------------------------------------------------

----------------------------------------------------------------------------
  Benchmark 1: Insertion Sort - Binary/Linear Threshold
----------------------------------------------------------------------------

--- size=32  iterations=3000 ---
Pattern               T=0      T=4      T=8     T=12     T=16     T=20    T=ALL
----------------------------------------------------------------------------
random                867      848      903      917      934     1018     1304 ms
nearlySorted          569      547      561      559      500      506      435 ms
reversed             1265     1226     1256     1377     1472     1699     2439 ms
duplicates            857      839      822      900      944      937     1196 ms
sorted                172      169      175      174      172      166      163 ms

Compares              T=0      T=4      T=8     T=12     T=16     T=20    T=ALL
----------------------------------------------------------------------------
random                140      141      150      164      168      193      295
nearlySorted          120      120      116      110      102      110       96
reversed              160      162      175      201      242      296      527
duplicates            139      141      140      154      170      180      279
sorted                 31       31       31       31       31       31       31

--- size=48  iterations=3000 ---
Pattern               T=0      T=4      T=8     T=12     T=16     T=20    T=ALL
----------------------------------------------------------------------------
random               1765     1866     2072     2005     1991     2071     3392 ms
nearlySorted          862      811      755      734      706      716      702 ms
reversed             2386     2551     2458     2990     2641     2655     4939 ms
duplicates           1439     1478     1492     1579     1399     1395     2217 ms
sorted                235      231      235      252      245      239      232 ms

Compares              T=0      T=4      T=8     T=12     T=16     T=20    T=ALL
----------------------------------------------------------------------------
random                246      247      256      270      274      299      708
nearlySorted          163      163      163      163      157      150      149
reversed              272      274      287      313      354      408     1175
duplicates            215      217      216      230      246      256      533
sorted                 47       47       47       47       47       47       47

--- size=64  iterations=3000 ---
Pattern               T=0      T=4      T=8     T=12     T=16     T=20    T=ALL
----------------------------------------------------------------------------
random               2663     2621     2696     2718     2709     2794     5097 ms
nearlySorted         1397     1405     1334     1416     1336     1339      984 ms
reversed             3811     3806     3744     4019     3944     4105     8556 ms
duplicates           1978     1934     1965     1999     2008     1969     3193 ms
sorted                310      337      305      333      312      315      312 ms

Compares              T=0      T=4      T=8     T=12     T=16     T=20    T=ALL
----------------------------------------------------------------------------
random                356      357      366      380      384      409     1261
nearlySorted          327      327      323      317      309      317      224
reversed              384      386      399      425      466      520     2079
duplicates            284      286      285      299      315      325      816
sorted                 63       63       63       63       63       63       63

----------------------------------------------------------------------------
  Benchmark 2: Gallop Threshold (MIN_GALLOP)
----------------------------------------------------------------------------

--- pattern: random  merge 500+500  x300 ---
Metric              MG=3      MG=5      MG=7      MG=9     MG=11     MG=13
--------------------------------------------------------------------------
Time (ms)            659       633       657       648       647       631
Compares            1022      1003      1001      1001       999       999
Verify: PASS

--- pattern: block  merge 500+500  x300 ---
Metric              MG=3      MG=5      MG=7      MG=9     MG=11     MG=13
--------------------------------------------------------------------------
Time (ms)            635       663       656       660       645       635
Compares             999       999       999       999       999       999
Verify: PASS

--- pattern: oneSided  merge 500+500  x300 ---
Metric              MG=3      MG=5      MG=7      MG=9     MG=11     MG=13
--------------------------------------------------------------------------
Time (ms)            275       235       235       245       241       234
Compares              19        21        23        25        27        29
Verify: PASS

----------------------------------------------------------------------------
  Benchmark 3: MIN_MERGE / minRun Effect on Insertion Sort
----------------------------------------------------------------------------

minRun values for reference:
n            MM=16     MM=24     MM=32     MM=48     MM=64
----------------------------------------------------------
100             13        13        25        25        50
500             16        16        32        32        63
1000            16        16        32        32        63
5000            10        20        20        40        40

--- pattern: random ---
n            MM=16     MM=24     MM=32     MM=48     MM=64   (ms, normalized to 1000 iters)
----------------------------------------------------------------------------
100            604       638       778       762      1126
500           3130      3090      4230      4250      6210
1000          6020      6280      9400      8620     12500
5000         25900     35800     34900     47500     52000

--- pattern: nearlySorted ---
n            MM=16     MM=24     MM=32     MM=48     MM=64   (ms, normalized to 1000 iters)
----------------------------------------------------------------------------
100            248       246       360       356       542
500           1200      1210      1580      1580      2500
1000          2480      2740      3380      3380      5800
5000         11100     14300     13900     19100     20400

--- pattern: reversed ---
n            MM=16     MM=24     MM=32     MM=48     MM=64   (ms, normalized to 1000 iters)
----------------------------------------------------------------------------
100            824       782      1076      1066      1664
500           4430      4300      5890      6060      9450
1000          8700      8640     11760     11740     18840
5000         38500     49400     47900     69100     73000

Comparison counts (n=1000, single pass):
Pattern              MM=16     MM=24     MM=32     MM=48     MM=64
------------------------------------------------------------------
random                3815      3815      4618      4618      5570
nearlySorted          1615      1615      2356      2356      3962
reversed              4933      4933      5460      5460      6216

----------------------------------------------------------------------------
  Benchmark 4: Gallop Search Direction (Forward vs Backward)
----------------------------------------------------------------------------

--- Target near RIGHT end (typical pre-trim scenario) ---
ArrayLen     Fwd(ms)   Bwd(ms)   Fwd-cmp   Bwd-cmp
--------------------------------------------------
100               34        22        12         7
500               46        24        17         7
2000              55        24        21         7
10000             64        25        25         7

--- Target near LEFT end (reversed scenario) ---
ArrayLen     Fwd(ms)   Bwd(ms)   Fwd-cmp   Bwd-cmp
--------------------------------------------------
100               19        41         6        13
500               20        55         6        18
2000              19        66         6        22
10000             20        78         6        26

----------------------------------------------------------------------------
  All benchmarks complete.
----------------------------------------------------------------------------
