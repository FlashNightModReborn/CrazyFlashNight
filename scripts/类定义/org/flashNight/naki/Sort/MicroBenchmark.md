org.flashNight.naki.Sort.MicroBenchmark.runAll()



----------------------------------------------------------------------------
  TimSort MicroBenchmark Suite
  Isolate micro-structure parameters for AS2 tuning
----------------------------------------------------------------------------

----------------------------------------------------------------------------
  Benchmark 1: Insertion Sort - Binary/Linear Threshold
----------------------------------------------------------------------------

--- size=32  iterations=3000 ---
Pattern               T=0      T=4      T=8     T=12     T=16     T=20    T=ALL
----------------------------------------------------------------------------
random                868      851      861      909      950      990     1283 ms
nearlySorted          629      613      567      516      489      533      446 ms
reversed             1212     1245     1279     1322     1460     1580     2239 ms
duplicates            799      842      830      893      934      915     1178 ms
sorted                167      168      175      173      196      176      174 ms

Compares              T=0      T=4      T=8     T=12     T=16     T=20    T=ALL
----------------------------------------------------------------------------
random                140      141      150      164      168      193      295
nearlySorted          120      120      116      110      102      110       96
reversed              160      162      175      201      242      296      527
duplicates            139      141      140      154      170      180      279
sorted                 31       31       31       31       31       31       31

--- size=48  iterations=3000 ---
Pattern               T=0      T=4      T=8     T=12     T=16     T=20    T=ALL
----------------------------------------------------------------------------
random               1730     1800     1840     1768     1748     1838     2945 ms
nearlySorted          770      809      748      741      730      756      690 ms
reversed             2428     2371     2433     2499     2651     2766     4920 ms
duplicates           1404     1353     1375     1405     1513     1464     2184 ms
sorted                240      237      243      244      245      242      240 ms

Compares              T=0      T=4      T=8     T=12     T=16     T=20    T=ALL
----------------------------------------------------------------------------
random                246      247      256      270      274      299      708
nearlySorted          163      163      163      163      157      150      149
reversed              272      274      287      313      354      408     1175
duplicates            215      217      216      230      246      256      533
sorted                 47       47       47       47       47       47       47

--- size=64  iterations=3000 ---
Pattern               T=0      T=4      T=8     T=12     T=16     T=20    T=ALL
----------------------------------------------------------------------------
random               2813     2778     2803     2893     2941     2915     5249 ms
nearlySorted         1427     1457     1428     1386     1373     1387     1053 ms
reversed             3889     3848     3969     3961     4122     4272     8781 ms
duplicates           1949     1989     1984     1985     2112     2082     3402 ms
sorted                322      323      318      325      319      325      351 ms

Compares              T=0      T=4      T=8     T=12     T=16     T=20    T=ALL
----------------------------------------------------------------------------
random                356      357      366      380      384      409     1261
nearlySorted          327      327      323      317      309      317      224
reversed              384      386      399      425      466      520     2079
duplicates            284      286      285      299      315      325      816
sorted                 63       63       63       63       63       63       63

----------------------------------------------------------------------------
  Benchmark 2: Gallop Threshold (MIN_GALLOP)
----------------------------------------------------------------------------

--- pattern: random  merge 500+500  x300 ---
Metric              MG=3      MG=5      MG=7      MG=9     MG=11     MG=13
--------------------------------------------------------------------------
Time (ms)            692       675       696       671       697       663
Compares            1022      1003      1001      1001       999       999
Verify: PASS

--- pattern: block  merge 500+500  x300 ---
Metric              MG=3      MG=5      MG=7      MG=9     MG=11     MG=13
--------------------------------------------------------------------------
Time (ms)            661       660       698       674       665       674
Compares             999       999       999       999       999       999
Verify: PASS

--- pattern: oneSided  merge 500+500  x300 ---
Metric              MG=3      MG=5      MG=7      MG=9     MG=11     MG=13
--------------------------------------------------------------------------
Time (ms)            248       249       262       256       246       248
Compares              19        21        23        25        27        29
Verify: PASS

----------------------------------------------------------------------------
  Benchmark 3: minRun Tradeoff (Insertion vs Merge)
----------------------------------------------------------------------------

minRun / merge-levels reference:
n            MM=16     MM=24     MM=32     MM=48     MM=64
----------------------------------------------------------
500          16/5L     16/5L     32/4L     32/4L     63/3L
1000         16/6L     16/6L     32/5L     32/5L     63/4L
5000         10/9L     20/8L     20/8L     40/7L     40/7L

=== random ===
n=500              MM=16     MM=24     MM=32     MM=48     MM=64
----------------------------------------------------------------
  InsSort           3080      3160      4380      4330      6390  ms/k
  Merge             4300      4390      3730      3450      2690  ms/k
  Total             7380      7550      8110      7780      9080  ms/k
  Verify: PASS
n=1000             MM=16     MM=24     MM=32     MM=48     MM=64
----------------------------------------------------------------
  InsSort           6100      6020      8820      8660     12460  ms/k
  Merge            10300     10780      8800      8620      7260  ms/k
  Total            16400     16800     17620     17280     19720  ms/k
  Verify: PASS
n=5000             MM=16     MM=24     MM=32     MM=48     MM=64
----------------------------------------------------------------
  InsSort          25700     34600     35900     49900     50800  ms/k
  Merge            76900     68400     74300     59500     60600  ms/k
  Total           102600    103000    110200    109400    111400  ms/k
  Verify: PASS

=== nearlySorted ===
n=500              MM=16     MM=24     MM=32     MM=48     MM=64
----------------------------------------------------------------
  InsSort           1320      1260      1650      1700      2780  ms/k
  Merge             3840      3880      3250      3250      2610  ms/k
  Total             5160      5140      4900      4950      5390  ms/k
  Verify: PASS
n=1000             MM=16     MM=24     MM=32     MM=48     MM=64
----------------------------------------------------------------
  InsSort           2680      2680      3580      3620      5660  ms/k
  Merge             9700      9320      8200      7940      6540  ms/k
  Total            12380     12000     11780     11560     12200  ms/k
  Verify: PASS
n=5000             MM=16     MM=24     MM=32     MM=48     MM=64
----------------------------------------------------------------
  InsSort          11000     14900     14000     19200     19400  ms/k
  Merge            70800     62000     61300     54700     58200  ms/k
  Total            81800     76900     75300     73900     77600  ms/k
  Verify: PASS

=== reversed ===
n=500              MM=16     MM=24     MM=32     MM=48     MM=64
----------------------------------------------------------------
  InsSort           4150      4040      6110      6520      9530  ms/k
  Merge             3030      2960      2510      2410      1890  ms/k
  Total             7180      7000      8620      8930     11420  ms/k
  Verify: PASS
n=1000             MM=16     MM=24     MM=32     MM=48     MM=64
----------------------------------------------------------------
  InsSort           8360      8220     12000     12140     19460  ms/k
  Merge             7200      7720      5820      6060      4920  ms/k
  Total            15560     15940     17820     18200     24380  ms/k
  Verify: PASS
n=5000             MM=16     MM=24     MM=32     MM=48     MM=64
----------------------------------------------------------------
  InsSort          33200     49600     48600     72000     72900  ms/k
  Merge            53300     47100     50700     41000     41000  ms/k
  Total            86500     96700     99300    113000    113900  ms/k
  Verify: PASS

Comparison counts (n=1000):
                   MM=16     MM=24     MM=32     MM=48     MM=64
----------------------------------------------------------------
random ins          3485      3485      4469      4469      5459
random mrg          5862      5862      4926      4926      3967
random tot          9347      9347      9395      9395      9426

nearlySorted ins      1626      1626      2366      2366      3984
nearlySorted mrg      5238      5238      4592      4592      3793
nearlySorted tot      6864      6864      6958      6958      7777

reversed ins        4118      4118      5048      5048      6008
reversed mrg        2936      2936      2440      2440      1984
reversed tot        7054      7054      7488      7488      7992

----------------------------------------------------------------------------
  Benchmark 4: Gallop Search Direction (Forward vs Backward)
----------------------------------------------------------------------------

--- Target near RIGHT end (typical pre-trim scenario) ---
ArrayLen     Fwd(ms)   Bwd(ms)   Fwd-cmp   Bwd-cmp
--------------------------------------------------
100               38        25        12         7
500               47        26        17         7
2000              58        25        21         7
10000             67        25        25         7

--- Target near LEFT end (reversed scenario) ---
ArrayLen     Fwd(ms)   Bwd(ms)   Fwd-cmp   Bwd-cmp
--------------------------------------------------
100               22        43         6        13
500               22        55         6        18
2000              20        69         6        22
10000             20        80         6        26

----------------------------------------------------------------------------
  All benchmarks complete.
----------------------------------------------------------------------------
