org.flashNight.arki.component.Shield.AdaptiveShieldTestSuite.runAllTests();



========================================
    AdaptiveShield 测试套件 v1.0
========================================

【1. 构造函数测试】
✓ 默认值测试通过
✓ 自定义值测试通过
✓ 初始模式测试通过
构造函数 所有测试通过！
【2. 单盾模式测试】
✓ 单盾伤害吸收测试通过
✓ 单盾强度限制测试通过
✓ 单盾充能测试通过
✓ 单盾衰减测试通过
✓ 单盾持续时间测试通过
单盾模式 所有测试通过！
【3. 工厂方法测试】
✓ createTemporary测试通过
✓ createRechargeable测试通过
✓ createDecaying测试通过
✓ createResistant测试通过
工厂方法 所有测试通过！
【4. 模式升级测试】
✓ 添加护盾触发升级测试通过
✓ 状态保持测试通过
✓ 多层护盾测试通过
✓ 延迟状态精确迁移测试通过
模式升级 所有测试通过！
【5. 栈模式测试】
✓ 栈模式伤害吸收测试通过
✓ 栈模式强度限制测试通过
✓ 多护盾分配测试通过
✓ 排序测试通过
栈模式 所有测试通过！
【6. 模式降级测试】
✓ 降级迟滞测试通过
✓ 状态恢复测试通过
✓ 所有护盾耗尽测试通过
✓ 嵌套ShieldStack不降级测试通过
✓ 降级延迟状态回填测试通过
模式降级 所有测试通过！
【7. 联弹机制测试】
✓ 单盾联弹测试通过
✓ 栈模式联弹测试通过
联弹机制 所有测试通过！
【8. 抵抗绕过测试】
✓ 单盾无抵抗测试通过
✓ 单盾抵抗测试通过
✓ 栈模式任意层抵抗测试通过
抵抗绕过 所有测试通过！
【9. 回调测试】
✓ onHit回调测试通过
✗ onBreak回调测试失败
✗ onExpire回调测试失败
✓ setCallbacks测试通过
回调 有测试失败！
【10. 边界条件测试】
✓ 添加null护盾测试通过
✓ 添加未激活护盾测试通过
✓ 零伤害测试通过
✓ clear测试通过
边界条件 所有测试通过！
【11. 空壳模式测试】
✓ 无参构造空壳模式测试通过
✓ createDormant工厂方法测试通过
✓ 空壳模式伤害穿透测试通过
✓ 空壳模式属性测试通过
✓ 空壳升级到单盾模式测试通过
✓ 空壳升级到栈模式(嵌套栈)测试通过
✓ 耗尽降级回空壳模式测试通过
✓ 完整生命周期测试通过
✓ clear后持久存在测试通过
空壳模式 所有测试通过！
【12. 一致性对比测试】
✓ 单盾一致性测试通过
✓ 栈一致性测试通过
一致性对比 所有测试通过！
【13. 性能测试】
单盾模式 vs Shield: AdaptiveShield 30ms, Shield 29ms (比率:1.03x)
栈模式 vs ShieldStack: AdaptiveShield 96ms, ShieldStack 109ms (比率:0.88x)
模式切换(升级+降级): 1000次 408ms, 平均0.41ms/次

========================================
测试完成！总耗时: 678ms
========================================
