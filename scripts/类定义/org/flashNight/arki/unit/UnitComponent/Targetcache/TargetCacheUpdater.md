// 执行完整测试套件
org.flashNight.arki.unit.UnitComponent.Targetcache.TargetCacheUpdaterTest.runAll();

================================================================================
🚀 TargetCacheUpdater 完整测试套件启动
================================================================================

🔧 初始化测试环境...
📦 创建了 50 个测试单位
🌍 构建了模拟游戏世界

📋 执行基础功能测试...
✅ getVersionInfo返回对象 PASS (object is not null)
✅ 版本信息包含enemyVersion PASS
✅ 版本信息包含allyVersion PASS
✅ 版本信息包含totalVersion PASS
✅ 初始enemyVersion为0 PASS (expected=0, actual=0)
✅ 初始allyVersion为0 PASS (expected=0, actual=0)
✅ 初始totalVersion为0 PASS (expected=0, actual=0)
✅ getCurrentThreshold返回有效值 PASS
✅ getThresholdStatus返回对象 PASS (object is not null)
✅ 静态访问器与方法一致 PASS (expected=100, actual=100)
✅ 添加敌人后enemyVersion递增 PASS (expected=1, actual=1)
✅ 添加敌人后allyVersion不变 PASS (expected=0, actual=0)
✅ 添加友军后allyVersion递增 PASS (expected=1, actual=1)
✅ 移除敌人后enemyVersion再次递增 PASS (expected=2, actual=2)

🔍 执行核心更新逻辑测试...
✅ 敌人请求后data不为空 PASS (object is not null)
✅ 敌人请求后nameIndex不为空 PASS (object is not null)
✅ 敌人请求后leftValues不为空 PASS (object is not null)
✅ 敌人请求后rightValues不为空 PASS (object is not null)
✅ 敌人请求后帧数正确 PASS (expected=100, actual=100)
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ 敌人请求结果只包含友军 PASS
✅ 结果中单位血量大于0 PASS
✅ data与leftValues长度一致 PASS (expected=25, actual=25)
✅ data与rightValues长度一致 PASS (expected=25, actual=25)
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求结果只包含敌军 PASS
✅ 友军请求后帧数正确 PASS (expected=200, actual=200)
✅ 全体请求返回多个单位 PASS
✅ 全体请求包含敌军 PASS
✅ 全体请求包含友军 PASS
✅ 全体请求后帧数正确 PASS (expected=300, actual=300)
✅ 首次更新后帧数改变 PASS
✅ 缓存命中时仍更新帧数 PASS (expected=500, actual=500)
✅ 版本更新后重新收集 PASS (expected=600, actual=600)
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ leftValues按升序排列 PASS
✅ nameIndex映射正确 PASS (expected=0, actual=0)
✅ nameIndex映射正确 PASS (expected=1, actual=1)
✅ nameIndex映射正确 PASS (expected=2, actual=2)
✅ nameIndex映射正确 PASS (expected=3, actual=3)
✅ nameIndex映射正确 PASS (expected=4, actual=4)
✅ nameIndex映射正确 PASS (expected=5, actual=5)
✅ nameIndex映射正确 PASS (expected=6, actual=6)
✅ nameIndex映射正确 PASS (expected=7, actual=7)
✅ nameIndex映射正确 PASS (expected=8, actual=8)
✅ nameIndex映射正确 PASS (expected=9, actual=9)
✅ nameIndex映射正确 PASS (expected=10, actual=10)
✅ nameIndex映射正确 PASS (expected=11, actual=11)
✅ nameIndex映射正确 PASS (expected=12, actual=12)
✅ nameIndex映射正确 PASS (expected=13, actual=13)
✅ nameIndex映射正确 PASS (expected=14, actual=14)
✅ nameIndex映射正确 PASS (expected=15, actual=15)
✅ nameIndex映射正确 PASS (expected=16, actual=16)
✅ nameIndex映射正确 PASS (expected=17, actual=17)
✅ nameIndex映射正确 PASS (expected=18, actual=18)
✅ nameIndex映射正确 PASS (expected=19, actual=19)
✅ nameIndex映射正确 PASS (expected=20, actual=20)
✅ nameIndex映射正确 PASS (expected=21, actual=21)
✅ nameIndex映射正确 PASS (expected=22, actual=22)
✅ nameIndex映射正确 PASS (expected=23, actual=23)
✅ nameIndex映射正确 PASS (expected=24, actual=24)
✅ nameIndex映射正确 PASS (expected=25, actual=25)
✅ nameIndex映射正确 PASS (expected=26, actual=26)
✅ nameIndex映射正确 PASS (expected=27, actual=27)
✅ nameIndex映射正确 PASS (expected=28, actual=28)
✅ nameIndex映射正确 PASS (expected=29, actual=29)
✅ nameIndex映射正确 PASS (expected=30, actual=30)
✅ nameIndex映射正确 PASS (expected=31, actual=31)
✅ nameIndex映射正确 PASS (expected=32, actual=32)
✅ nameIndex映射正确 PASS (expected=33, actual=33)
✅ nameIndex映射正确 PASS (expected=34, actual=34)
✅ nameIndex映射正确 PASS (expected=35, actual=35)
✅ nameIndex映射正确 PASS (expected=36, actual=36)
✅ nameIndex映射正确 PASS (expected=37, actual=37)
✅ nameIndex映射正确 PASS (expected=38, actual=38)
✅ nameIndex映射正确 PASS (expected=39, actual=39)
✅ nameIndex映射正确 PASS (expected=40, actual=40)
✅ nameIndex映射正确 PASS (expected=41, actual=41)
✅ nameIndex映射正确 PASS (expected=42, actual=42)
✅ nameIndex映射正确 PASS (expected=43, actual=43)
✅ nameIndex映射正确 PASS (expected=44, actual=44)
✅ nameIndex映射正确 PASS (expected=45, actual=45)
✅ nameIndex映射正确 PASS (expected=46, actual=46)
✅ nameIndex映射正确 PASS (expected=47, actual=47)
✅ nameIndex映射正确 PASS (expected=48, actual=48)
✅ nameIndex映射正确 PASS (expected=49, actual=49)
✅ leftValues与实际坐标一致 PASS (expected=1250.01628183527, actual=1250.01628183527)
✅ rightValues与实际坐标一致 PASS (expected=1270.01628183527, actual=1270.01628183527)
✅ leftValues与实际坐标一致 PASS (expected=1250.02559420653, actual=1250.02559420653)
✅ rightValues与实际坐标一致 PASS (expected=1270.02559420653, actual=1270.02559420653)
✅ leftValues与实际坐标一致 PASS (expected=1250.04200147698, actual=1250.04200147698)
✅ rightValues与实际坐标一致 PASS (expected=1270.04200147698, actual=1270.04200147698)
✅ leftValues与实际坐标一致 PASS (expected=1250.14077187981, actual=1250.14077187981)
✅ rightValues与实际坐标一致 PASS (expected=1270.14077187981, actual=1270.14077187981)
✅ leftValues与实际坐标一致 PASS (expected=1250.2080968651, actual=1250.2080968651)
✅ rightValues与实际坐标一致 PASS (expected=1270.2080968651, actual=1270.2080968651)
✅ leftValues与实际坐标一致 PASS (expected=1250.34299179446, actual=1250.34299179446)
✅ rightValues与实际坐标一致 PASS (expected=1270.34299179446, actual=1270.34299179446)
✅ leftValues与实际坐标一致 PASS (expected=1250.36031438038, actual=1250.36031438038)
✅ rightValues与实际坐标一致 PASS (expected=1270.36031438038, actual=1270.36031438038)
✅ leftValues与实际坐标一致 PASS (expected=1250.49813264748, actual=1250.49813264748)
✅ rightValues与实际坐标一致 PASS (expected=1270.49813264748, actual=1270.49813264748)
✅ leftValues与实际坐标一致 PASS (expected=1250.77457974432, actual=1250.77457974432)
✅ rightValues与实际坐标一致 PASS (expected=1270.77457974432, actual=1270.77457974432)
✅ leftValues与实际坐标一致 PASS (expected=1250.93740916112, actual=1250.93740916112)
✅ rightValues与实际坐标一致 PASS (expected=1270.93740916112, actual=1270.93740916112)
✅ leftValues与实际坐标一致 PASS (expected=1251.09193801181, actual=1251.09193801181)
✅ rightValues与实际坐标一致 PASS (expected=1271.09193801181, actual=1271.09193801181)
✅ leftValues与实际坐标一致 PASS (expected=1251.21340091806, actual=1251.21340091806)
✅ rightValues与实际坐标一致 PASS (expected=1271.21340091806, actual=1271.21340091806)
✅ leftValues与实际坐标一致 PASS (expected=1251.25201459043, actual=1251.25201459043)
✅ rightValues与实际坐标一致 PASS (expected=1271.25201459043, actual=1271.25201459043)
✅ leftValues与实际坐标一致 PASS (expected=1251.37368477881, actual=1251.37368477881)
✅ rightValues与实际坐标一致 PASS (expected=1271.37368477881, actual=1271.37368477881)
✅ leftValues与实际坐标一致 PASS (expected=1251.44601576729, actual=1251.44601576729)
✅ rightValues与实际坐标一致 PASS (expected=1271.44601576729, actual=1271.44601576729)
✅ leftValues与实际坐标一致 PASS (expected=1251.47970046615, actual=1251.47970046615)
✅ rightValues与实际坐标一致 PASS (expected=1271.47970046615, actual=1271.47970046615)
✅ leftValues与实际坐标一致 PASS (expected=1251.61112170899, actual=1251.61112170899)
✅ rightValues与实际坐标一致 PASS (expected=1271.61112170899, actual=1271.61112170899)
✅ leftValues与实际坐标一致 PASS (expected=1251.74399863463, actual=1251.74399863463)
✅ rightValues与实际坐标一致 PASS (expected=1271.74399863463, actual=1271.74399863463)
✅ leftValues与实际坐标一致 PASS (expected=1251.80135757197, actual=1251.80135757197)
✅ rightValues与实际坐标一致 PASS (expected=1271.80135757197, actual=1271.80135757197)
✅ leftValues与实际坐标一致 PASS (expected=1251.84257576009, actual=1251.84257576009)
✅ rightValues与实际坐标一致 PASS (expected=1271.84257576009, actual=1271.84257576009)
✅ leftValues与实际坐标一致 PASS (expected=1252.07773592789, actual=1252.07773592789)
✅ rightValues与实际坐标一致 PASS (expected=1272.07773592789, actual=1272.07773592789)
✅ leftValues与实际坐标一致 PASS (expected=1252.12026857538, actual=1252.12026857538)
✅ rightValues与实际坐标一致 PASS (expected=1272.12026857538, actual=1272.12026857538)
✅ leftValues与实际坐标一致 PASS (expected=1252.15238697594, actual=1252.15238697594)
✅ rightValues与实际坐标一致 PASS (expected=1272.15238697594, actual=1272.15238697594)
✅ leftValues与实际坐标一致 PASS (expected=1252.40194872953, actual=1252.40194872953)
✅ rightValues与实际坐标一致 PASS (expected=1272.40194872953, actual=1272.40194872953)
✅ leftValues与实际坐标一致 PASS (expected=1252.43938223692, actual=1252.43938223692)
✅ rightValues与实际坐标一致 PASS (expected=1272.43938223692, actual=1272.43938223692)
✅ leftValues与实际坐标一致 PASS (expected=1252.46467395686, actual=1252.46467395686)
✅ rightValues与实际坐标一致 PASS (expected=1272.46467395686, actual=1272.46467395686)
✅ leftValues与实际坐标一致 PASS (expected=1252.69988887711, actual=1252.69988887711)
✅ rightValues与实际坐标一致 PASS (expected=1272.69988887711, actual=1272.69988887711)
✅ leftValues与实际坐标一致 PASS (expected=1252.97465449898, actual=1252.97465449898)
✅ rightValues与实际坐标一致 PASS (expected=1272.97465449898, actual=1272.97465449898)
✅ leftValues与实际坐标一致 PASS (expected=1253.02327016601, actual=1253.02327016601)
✅ rightValues与实际坐标一致 PASS (expected=1273.02327016601, actual=1273.02327016601)
✅ leftValues与实际坐标一致 PASS (expected=1253.26172818663, actual=1253.26172818663)
✅ rightValues与实际坐标一致 PASS (expected=1273.26172818663, actual=1273.26172818663)
✅ leftValues与实际坐标一致 PASS (expected=1253.31055427669, actual=1253.31055427669)
✅ rightValues与实际坐标一致 PASS (expected=1273.31055427669, actual=1273.31055427669)
✅ leftValues与实际坐标一致 PASS (expected=1253.37349059293, actual=1253.37349059293)
✅ rightValues与实际坐标一致 PASS (expected=1273.37349059293, actual=1273.37349059293)
✅ leftValues与实际坐标一致 PASS (expected=1253.42652261024, actual=1253.42652261024)
✅ rightValues与实际坐标一致 PASS (expected=1273.42652261024, actual=1273.42652261024)
✅ leftValues与实际坐标一致 PASS (expected=1253.47494758666, actual=1253.47494758666)
✅ rightValues与实际坐标一致 PASS (expected=1273.47494758666, actual=1273.47494758666)
✅ leftValues与实际坐标一致 PASS (expected=1253.51190425921, actual=1253.51190425921)
✅ rightValues与实际坐标一致 PASS (expected=1273.51190425921, actual=1273.51190425921)
✅ leftValues与实际坐标一致 PASS (expected=1253.54223458562, actual=1253.54223458562)
✅ rightValues与实际坐标一致 PASS (expected=1273.54223458562, actual=1273.54223458562)
✅ leftValues与实际坐标一致 PASS (expected=1253.54823677801, actual=1253.54823677801)
✅ rightValues与实际坐标一致 PASS (expected=1273.54823677801, actual=1273.54823677801)
✅ leftValues与实际坐标一致 PASS (expected=1253.86055089766, actual=1253.86055089766)
✅ rightValues与实际坐标一致 PASS (expected=1273.86055089766, actual=1273.86055089766)
✅ leftValues与实际坐标一致 PASS (expected=1253.95082460251, actual=1253.95082460251)
✅ rightValues与实际坐标一致 PASS (expected=1273.95082460251, actual=1273.95082460251)
✅ leftValues与实际坐标一致 PASS (expected=1254.16445093928, actual=1254.16445093928)
✅ rightValues与实际坐标一致 PASS (expected=1274.16445093928, actual=1274.16445093928)
✅ leftValues与实际坐标一致 PASS (expected=1254.2277284083, actual=1254.2277284083)
✅ rightValues与实际坐标一致 PASS (expected=1274.2277284083, actual=1274.2277284083)
✅ leftValues与实际坐标一致 PASS (expected=1254.24216245534, actual=1254.24216245534)
✅ rightValues与实际坐标一致 PASS (expected=1274.24216245534, actual=1274.24216245534)
✅ leftValues与实际坐标一致 PASS (expected=1254.33482962195, actual=1254.33482962195)
✅ rightValues与实际坐标一致 PASS (expected=1274.33482962195, actual=1274.33482962195)
✅ leftValues与实际坐标一致 PASS (expected=1254.37758041779, actual=1254.37758041779)
✅ rightValues与实际坐标一致 PASS (expected=1274.37758041779, actual=1274.37758041779)
✅ leftValues与实际坐标一致 PASS (expected=1254.46535050403, actual=1254.46535050403)
✅ rightValues与实际坐标一致 PASS (expected=1274.46535050403, actual=1274.46535050403)
✅ leftValues与实际坐标一致 PASS (expected=1254.49607195565, actual=1254.49607195565)
✅ rightValues与实际坐标一致 PASS (expected=1274.49607195565, actual=1274.49607195565)
✅ leftValues与实际坐标一致 PASS (expected=1254.79216015199, actual=1254.79216015199)
✅ rightValues与实际坐标一致 PASS (expected=1274.79216015199, actual=1274.79216015199)
✅ leftValues与实际坐标一致 PASS (expected=1254.84365046024, actual=1254.84365046024)
✅ rightValues与实际坐标一致 PASS (expected=1274.84365046024, actual=1274.84365046024)
✅ leftValues与实际坐标一致 PASS (expected=1254.86208706629, actual=1254.86208706629)
✅ rightValues与实际坐标一致 PASS (expected=1274.86208706629, actual=1274.86208706629)
✅ leftValues与实际坐标一致 PASS (expected=1254.94995987508, actual=1254.94995987508)
✅ rightValues与实际坐标一致 PASS (expected=1274.94995987508, actual=1274.94995987508)

📊 执行版本控制系统测试...
✅ 添加敌人版本递增 PASS (expected=1, actual=1)
✅ 添加敌人友军版本不变 PASS (expected=0, actual=0)
✅ 移除敌人版本再次递增 PASS (expected=2, actual=2)
✅ 添加友军版本递增 PASS (expected=1, actual=1)
✅ 添加友军敌人版本不变 PASS (expected=2, actual=2)
✅ 移除友军版本递增 PASS (expected=2, actual=2)
✅ 总版本正确 PASS (expected=4, actual=4)
✅ 重置前有版本号 PASS
✅ 重置后enemyVersion为0 PASS (expected=0, actual=0)
✅ 重置后allyVersion为0 PASS (expected=0, actual=0)
✅ 重置后totalVersion为0 PASS (expected=0, actual=0)
✅ totalVersion计算正确 PASS (expected=10, actual=10)
✅ enemyVersion非负 PASS
✅ allyVersion非负 PASS

⚙️ 执行AdaptiveThresholdOptimizer集成测试...
✅ 参数设置后状态可获取 PASS (object is not null)
✅ 预设"dense"应用成功 PASS
✅ 预设"dense"阈值有效 PASS
✅ 预设"sparse"应用成功 PASS
✅ 预设"sparse"阈值有效 PASS
✅ 预设"dynamic"应用成功 PASS
✅ 预设"dynamic"阈值有效 PASS
✅ 预设"stable"应用成功 PASS
✅ 预设"stable"阈值有效 PASS
✅ 预设"default"应用成功 PASS
✅ 预设"default"阈值有效 PASS
✅ 无效预设应该失败 PASS
✅ getThresholdStatus返回对象 PASS (object is not null)
✅ 状态包含currentThreshold PASS
✅ currentThreshold为有效数值 PASS
✅ 更新后阈值仍为有效值 PASS
✅ leftValues生成成功 PASS (object is not null)
✅ leftValues非空 PASS

🏊 执行缓存池管理测试...
✅ 初始缓存池数量为0 PASS (expected=0, actual=0)
✅ 初始内存使用为0 PASS (expected=0, actual=0)
✅ 创建缓存后池数量增加 PASS
✅ 创建缓存后内存使用增加 PASS
✅ 缓存池详情不为空 PASS (object is not null)
✅ 缓存池详情为对象 PASS
✅ 清理前有缓存池 PASS
✅ 部分清理后池数量减少 PASS
✅ 全部清理后池数量为0 PASS (expected=0, actual=0)
✅ 多样化请求创建多个缓存池 PASS
✅ 缓存池有单位数据 PASS
✅ 缓存池有版本号 PASS
✅ 缓存池有单位数据 PASS
✅ 缓存池有版本号 PASS
✅ 缓存池有单位数据 PASS
✅ 缓存池有版本号 PASS
✅ 缓存池有单位数据 PASS
✅ 缓存池有版本号 PASS
✅ 缓存池有单位数据 PASS
✅ 缓存池有版本号 PASS

📦 执行批量操作测试...
✅ 批量添加敌人版本正确 PASS (expected=10, actual=10)
✅ 批量添加友军版本正确 PASS (expected=10, actual=10)
✅ 批量添加总版本正确 PASS (expected=20, actual=20)
✅ 批量移除敌人版本递增 PASS (expected=13, actual=13)
✅ 批量移除友军版本递增 PASS (expected=12, actual=12)
✅ 混合添加敌人版本 PASS (expected=5, actual=5)
✅ 混合添加友军版本 PASS (expected=7, actual=7)
✅ 混合移除后敌人版本 PASS (expected=10, actual=10)
✅ 混合移除后友军版本 PASS (expected=14, actual=14)

⚡ 执行性能基准测试...
📊 updateCache性能: 100次调用耗时 117ms
✅ updateCache性能达标 PASS
📊 批量操作性能: 100次批量操作耗时 3ms
✅ 批量操作性能合理 PASS
📊 缓存池操作性能: 100次操作耗时 0ms
✅ 缓存池操作性能合理 PASS
📊 大数据集测试: 1000个单位处理耗时 19ms
✅ 大数据集处理时间合理 PASS
✅ 大数据集结果非空 PASS
✅ 大数据集数组长度一致 PASS (expected=1000, actual=1000)

🔍 执行调试监控测试...
✅ getDetailedStatusReport返回字符串 PASS (object is not null)
✅ 报告不为空 PASS
✅ 报告包含版本信息 PASS
✅ 报告包含缓存池信息 PASS
✅ 报告包含阈值信息 PASS
✅ performSelfCheck返回对象 PASS (object is not null)
✅ 自检结果包含passed PASS
✅ 自检结果包含errors PASS
✅ 自检结果包含warnings PASS
✅ 自检结果包含performance PASS
✅ 自检错误数组为数组 PASS
✅ 自检警告数组为数组 PASS
✅ 自检性能信息不为空 PASS (object is not null)
✅ 正常情况下自检通过 PASS
✅ 报告提及Enemy Version PASS
✅ 报告提及Active Pools PASS
✅ 报告提及Current Threshold PASS
✅ 自检包含缓存池数量 PASS
✅ 自检包含当前阈值 PASS

🔍 执行边界条件测试...
✅ 空世界data长度为0 PASS (expected=0, actual=0)
✅ 空世界leftValues长度为0 PASS (expected=0, actual=0)
✅ 空世界rightValues长度为0 PASS (expected=0, actual=0)
✅ 空世界帧数正确 PASS (expected=5000, actual=5000)
✅ 单单位世界data长度为1 PASS (expected=1, actual=1)
✅ 单单位世界leftValues长度为1 PASS (expected=1, actual=1)
✅ 单单位世界nameIndex正确 PASS (expected="unit_0", actual="unit_0")
✅ 单单位世界nameIndex映射正确 PASS (expected=0, actual=0)
✅ 结果中单位血量大于0 PASS
✅ 结果中单位血量大于0 PASS
✅ 结果中单位血量大于0 PASS
✅ 结果中单位血量大于0 PASS
✅ 结果中单位血量大于0 PASS
✅ 结果中单位血量大于0 PASS
✅ 结果中单位血量大于0 PASS
✅ 结果中单位血量大于0 PASS
✅ 结果中单位血量大于0 PASS
✅ 结果中单位血量大于0 PASS
✅ 结果中单位血量大于0 PASS
✅ 结果中单位血量大于0 PASS
✅ 结果中单位血量大于0 PASS
✅ 存活单位数量正确 PASS (expected=13, actual=13)
✅ 极端操作后版本号合理 PASS
✅ 大量操作后缓存池合理 PASS

🎯 执行复杂场景集成测试...
✅ 添加单位后数量可能变化 PASS
✅ 移除后数组长度一致 PASS (expected=18, actual=18)
✅ 移除后帧数正确 PASS (expected=7200, actual=7200)
✅ 并发更新帧数正确 PASS (expected=8000, actual=8000)
✅ 并发更新data不为空 PASS (object is not null)
✅ 并发更新数据一致性 PASS
✅ 并发更新帧数正确 PASS (expected=8000, actual=8000)
✅ 并发更新data不为空 PASS (object is not null)
✅ 并发更新数据一致性 PASS
✅ 并发更新帧数正确 PASS (expected=8000, actual=8000)
✅ 并发更新data不为空 PASS (object is not null)
✅ 并发更新数据一致性 PASS
✅ 并发更新帧数正确 PASS (expected=8000, actual=8000)
✅ 并发更新data不为空 PASS (object is not null)
✅ 并发更新数据一致性 PASS
✅ 并发更新帧数正确 PASS (expected=8000, actual=8000)
✅ 并发更新data不为空 PASS (object is not null)
✅ 并发更新数据一致性 PASS
✅ 全体请求数据最多 PASS
✅ 全体请求数据最多 PASS
📊 内存效率测试: 10次循环耗时 18ms
✅ 内存效率测试时间合理 PASS
✅ 内存效率测试后缓存池合理 PASS

================================================================================
📊 测试结果汇总
================================================================================
总测试数: 435
通过: 435 ✅
失败: 0 ❌
成功率: 100%
总耗时: 204ms

⚡ 性能基准报告:
  updateCache: 1.17ms/次 (100次测试)
  batchOperations: 0.03ms/次 (100次测试)
  cachePoolOps: 0ms/次 (100次测试)
  largeDataset: 19ms/次 (1次测试)
  memoryEfficiency: 1.8ms/次 (10次测试)

🎯 TargetCacheUpdater当前状态:
=== TargetCacheUpdater Status Report ===

Version Numbers:
  Enemy Version: 8
  Ally Version: 7
  Total Updates: 15

Cache Pool Stats:
  Active Pools: 0
  Total Units Cached: 0

Threshold Optimizer:
  Current Threshold: 30px
  Avg Density: 1px
  Optimizer Version: 1.0.0


🎉 所有测试通过！TargetCacheUpdater 组件质量优秀！
================================================================================
